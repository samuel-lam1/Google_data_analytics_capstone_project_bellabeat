---
title: 'Google Data Analytics Capstone Project: Bellabeat'
author: 'Author: Samuel Lam'
date: 'Date: 29th November 2022'
output:
  html_document: default
editor_options:
  chunk_output_type: console
---

<style type="text/css">
    h1.title, h3.subtitle, h4.author, h4.date{
  color: dimgray;
  }
  body{
  font-size: 12pt;
  }
    h1,h2,h3,h4 {
  font-weight: bold;
  }
  h1 {
  font-size: 26px;
    color: royalblue;
  }
    h2 { 
    font-size: 22px;
    color: dodgerblue;
  }
    h3 { 
  font-size: 20px;
  color: dodgerblue;
  }
    code.r{
    font-size: 14px;
  }
</style>


```{r setup, include=FALSE}
# install.packages("RSQLite", repos = "http://cran.us.r-project.org")
#library(RSQLite)
#library(DBI)
#db <- dbConnect(RSQLite::SQLite(), ":memory:")
#knitr::opts_chunk$set(echo = TRUE, dpi=300, connection = "db")
```

# Preface
This case study is the capstone project for the Google Data Analytics Professional Certificate, which consists of 8 courses. Participants can learn key analytical skills (data cleaning, analysis, & visualization) and tools (spreadsheets, SQL, R programming, Tableau), and gain an immersive understanding of the practices and processes of a data analyst.
<br>
<br>

# Table of Contents  
1. Introduction  
1.1 Company background  
1.2 Business task  
1.3 Key stakeholders  
2. Data Preparation  
2.1 Data Source  
2.2 Data limitations  
3. Data processing  
3.1 Files upload  
3.2 Data transformation using SQL  
4. Data analysis and visualization  
4.1 User engagement  
4.2 Calories  
4.3 Heart rate  
4.4 Time dimension  
4.5 Sleeping time  
5. Key findings  
6. Conclusion and recommendation  
<br>
<br>

# 1. Introduction
## 1.1 Company background
Bellabeat, founded by Urška Sršen and Sando Mur, is a high-tech company that manufactures health-focused smart products for women. Collecting data on activity, sleep, stress, and reproductive health has allowed the company to empower women with knowledge about their own health and habits.  

Bellabeat is a successful small company, and have the potential to become a larger player in the global smart device market. Urška Sršen, cofounder and Chief Creative Officer of Bellabeat, believes that analyzing smart device fitness data could help inform the company marketing strategy and unlock new growth opportunities.
<br>

## 1.2. Business task
The main objective of the case study is to identify any possible trends in the fitness data from non-Bellabeat smart devices in order to gain insight into consumer behaviour.  

Recommendations will be provided for Bellabeat's marketing strategy on how the insights could be applied to their products and hence help reveal opportunities for the company's growth.
<br>

## 1.3 Key stakeholders
* **Urška Sršen**: Bellabeat’s cofounder and Chief Creative Officer  

* **Sando Mur**: Mathematician, Bellabeat’s cofounder and key member of the Bellabeat executive team  

* **Bellabeat marketing analytics team**: A team of data analysts responsible for collecting, analyzing, and reporting data that helps guide Bellabeat’s marketing strategy.
<br>
<br>

# 2. Data preparation
## 2.1 Data Source
* The [FitBit Fitness Tracker Data](https://www.kaggle.com/datasets/arashnic/fitbit)(CC0: Public Domain, dataset made available through [Mobius](https://www.kaggle.com/arashnic)) on Kaggle is used.  

* The dataset is under CC0 licence, which means that the person who associated a work with this deed has dedicated the work to the public domain by waiving all of his or her rights to the work worldwide under copyright law, including all related and neighbouring rights, to the extent by law. The work can be copied, modified, distributed and performed, even for commercial purposes, all without asking permission.  

* The data originated from the Amazon Mechanical Turk who collected the data between 3rd December 2016 to 5th December 2016.  

* The dataset contains personal ﬁtness trackers from thirty three ﬁtbit users. These eligible Fitbit users consented to the submission of personal tracker data, including minute-level output for physical activity, heart rate, and sleep monitoring. It includes information about daily activity, steps, and heart rate that can be used to explore users’ habits.  

* The dataset consists of total 18 csv files, in which 15 are long format and 3 are wide format.
<br>

## 2.2 Data limitations
* Lack of demographics: Bellebeat's products are focusing on women health while data such as gender and age are missing in the dataset.  

* Limited time frame: Data of 31 days may not be enough for providing solid high-level recommendations. There could be seasonal variations which affect the users' physical activity such as the exercise choices.  

* Small sample size: Data of 33 users may be insufficient for providing an objective big picture of the overall situation.  

* The data was collected in year 2016 which is not up to date and may not reflect the current situation of users.
<br>
<br>

# 3. Data processing
## 3.1 Files upload
* By analyzing the **dailyActivity_merged.csv** using pivot table in Microsoft Excel, it is observed that the file contains the same data as the **dailyCalories_merged.csv**, **dailyIntensities_merged.csv**, **dailySteps_merged.csv**, thus the latter 3 files will not be used.  

* **minuteCaloriesWide_merged.csv**, **minuteIntensitiesWide_merged.csv**, **minuteStepsWide_merged.csv** also have the same data as that in the **minuteCaloriesNarrow_merged.csv**, **minuteIntensitiesNarrow_merged.csv**, **minuteStepsNarrow_merged.csv**. The former 3 files in wide format will not be used.  

* By analyzing the **weightLogInfo_merged.csv** using pivot table in Microsoft Excel, the result in the following table shows that it contains only 67 observations with 8 different users. The numbers of record by each user are also too few to have significant representation for analysis.  
<table class="table table-striped" border="2" style="text-align: left">
  <thead>
    <tr>
      <th scope="col" class="">User Id</th>
      <th scope="col" class="">Count of Id</th>
    </tr>
  </thead>
  <tbody>
    <tr> <td data-label="User Id" class="">1503960366</td> <td data-label="Count of Id" class="">2</td></tr>
    <tr> <td data-label="User Id" class="">1927972279</td> <td data-label="Count of Id" class="">1</td></tr>
    <tr> <td data-label="User Id" class="">2873212765</td> <td data-label="Count of Id" class="">2</td></tr>
    <tr> <td data-label="User Id" class="">4319703577</td> <td data-label="Count of Id" class="">2</td></tr>
    <tr> <td data-label="User Id" class="">4558609924</td> <td data-label="Count of Id" class="">5</td></tr>
    <tr> <td data-label="User Id" class="">5577150313</td> <td data-label="Count of Id" class="">1</td></tr>
    <tr> <td data-label="User Id" class="">6962181067</td> <td data-label="Count of Id" class="">30</td></tr>
    <tr> <td data-label="User Id" class="">8877689391</td> <td data-label="Count of Id" class="">24</td></tr>
    <tr> <th scope="row" class="">Grand Total</th> <td data-label="Count of Id" class="">67</td></tr>
  </tbody>
</table>
Out of the 67 records, 41 of them (equal to 61.2%) were input manually and it may be subject to errors. For all these reasons this file will not be used.

* As the files contain more than 1 million rows that they are too large to be handled by Microsoft Excel, thus SQL queries on the data warehouse platform **Google BigQuery** is used.

* When uploading to **Google BigQuery** platform, the following error message appeared for some files:
*Failed to create table: Error while reading data, error message: Could not parse '4/12/2016 12:00:00 AM' as TIMESTAMP for field SleepDay (position 1) starting at location 65 with message 'Invalid time zone: AM'*  

* In order to upload successfully, the Schema was manually input with the data type of the error column using *STRING* instead of *TIMESTAMP*.
<br>

## 3.2 Data transformation using SQL
* The tables related to hourly activity are merged and the result is saved into a new table *hourlyActivity_merged*:
```{}
CREATE TABLE
  `capstone-project-22.Bellabeat_data.hourlyActivity_merged` AS
SELECT
  h1.Id,
  CAST(FORMAT_TIMESTAMP( '%Y-%m-%d %H:%M:%S',
    PARSE_TIMESTAMP('%m/%d/%Y %I:%M:%S %p', h1.ActivityHour)) AS TIMESTAMP)
    AS ActivityHour,
  h1.StepTotal,
  h2.Calories,
  h3.AverageIntensity,
  h3.TotalIntensity
FROM
  `capstone-project-22.Bellabeat_data.hourlySteps_merged` AS h1
FULL JOIN
  `capstone-project-22.Bellabeat_data.hourlyCalories_merged` AS h2
ON
  h1.Id = h2.Id
  AND h1.ActivityHour = h2.ActivityHour
FULL JOIN
  `capstone-project-22.Bellabeat_data.hourlyIntensities_merged` AS h3
ON
  h1.Id = h3.Id
  AND h1.ActivityHour = h3.ActivityHour
ORDER BY
  Id,
  ActivityHour
```

* The tables related to minute activity are merged and the result is saved into a new table *minuteActivity_merged*:
```{}
CREATE TABLE
  `capstone-project-22.Bellabeat_data.minuteActivity_merged` AS
SELECT
  COALESCE(t1.Id,t2.Id,t3.Id,t4.Id,t5.Id) AS Id,
  CAST(FORMAT_TIMESTAMP('%Y-%m-%d %H:%M:%S',
    PARSE_TIMESTAMP('%m/%d/%Y %I:%M:%S %p',
      COALESCE(t1.ActivityMinute, t2.ActivityMinute, t3.ActivityMinute, t4.date, t5.ActivityMinute))) AS TIMESTAMP)
    AS ActivityMinute,
  t1.Calories,
  t2.Intensity,
  t3.METs,
  t4.logId AS sleep_Id,
  t4.value AS sleep_value,
  t5.Steps
FROM
  `capstone-project-22.Bellabeat_data.minuteCaloriesNarrow_merged` AS t1
FULL JOIN
  `capstone-project-22.Bellabeat_data.minuteIntensitiesNarrow_merged` AS t2
ON
  t1.Id = t2.Id
  AND t1.ActivityMinute = t2.ActivityMinute
FULL JOIN
  `capstone-project-22.Bellabeat_data.minuteMETsNarrow_merged` AS t3
ON
  t1.Id = t3.Id
  AND t1.ActivityMinute = t3.ActivityMinute
FULL JOIN
  `capstone-project-22.Bellabeat_data.minuteSleep_merged` AS t4
ON
  t1.Id = t4.Id
  AND t1.ActivityMinute = t4.date
FULL JOIN
  `capstone-project-22.Bellabeat_data.minuteStepsNarrow_merged` AS t5
ON
  t1.Id = t5.Id
  AND t1.ActivityMinute = t5.ActivityMinute
ORDER BY
  Id,
  ActivityMinute
```

* The data type of the columns in the following tables (which were saved as STRING instead of TIMESTAMP in the previous step) is corrected and saved into new tables with *revised_* added into the beginning of the table names.

  * heartrate_seconds_merged: 
```{}
CREATE TABLE
    `capstone-project-22.Bellabeat_data.revised_heartrate_seconds_merged` AS
SELECT
    Id,
    CAST(FORMAT_TIMESTAMP('%Y-%m-%d %H:%M:%S',
      PARSE_TIMESTAMP('%m/%d/%Y %I:%M:%S %p', Time)) AS TIMESTAMP)
    AS time,
    Value
FROM
    `capstone-project-22.Bellabeat_data.heartrate_seconds_merged`
ORDER BY
    Id,
    time
```

  * sleepDay_merged:  
```{}
CREATE TABLE
    `capstone-project-22.Bellabeat_data.revised_sleepDay_merged` AS
SELECT
    Id,
    CAST(FORMAT_TIMESTAMP('%Y-%m-%d %H:%M:%S',
      PARSE_TIMESTAMP('%m/%d/%Y %I:%M:%S %p', SleepDay)) AS TIMESTAMP)
    AS SleepDay,
    TotalSleepRecords,
    TotalMinutesAsleep,
    TotalTimeInBed
FROM
    `capstone-project-22.Bellabeat_data.sleepDay_merged`
ORDER BY
    Id,
    SleepDay
```

* As a result, the following 5 tables will be used thereafter:
  * dailyActivity_merged
  * hourlyActivity_merged
  * minuteActivity_merged
  * revised_heartrate_seconds_merged
  * revised_sleepDay_merged
<br>
<br>

# 4. Data analysis and visualization
The following section will examine data based on different metrics, which are related to calories burned, heart rate, time dimension, and sleeping time.  
SQL using Google BigQuery for queries and Tableau for visualization are used as the analytics platforms.

## 4.1 User engagement
* Before inspecting different metrics, let's take a look into the number of users engaged during the period of data collection.
<div class='tableauPlaceholder' id='viz1670624131537' style='position: relative'><noscript><a href='#'><img alt='Number of user engaged by day ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;bb&#47;bb_user_engage&#47;user_engagement&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='bb_user_engage&#47;user_engagement' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;bb&#47;bb_user_engage&#47;user_engagement&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='language' value='en-GB' /></object></div>

```{js user engage, echo=FALSE}
var divElement = document.getElementById('viz1670624131537');
var vizElement = divElement.getElementsByTagName('object')[0];
vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';
var scriptElement = document.createElement('script');
scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
vizElement.parentNode.insertBefore(scriptElement, vizElement);
```
* It is observed that the number of user dropped from initially 33 to 21 on the last day.
<br>

## 4.2 Calories
### 4.2.1 Calories by daily total distance
<div class='tableauPlaceholder' id='viz1670625097256' style='position: relative'><noscript><a href='#'><img alt='Calories by daily total distance ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;bb&#47;bb_calories_distance&#47;Calories_distance&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='bb_calories_distance&#47;Calories_distance' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;bb&#47;bb_calories_distance&#47;Calories_distance&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='language' value='en-GB' /></object></div>

```{js calories vs distance, echo=FALSE}
var divElement = document.getElementById('viz1670625097256');
var vizElement = divElement.getElementsByTagName('object')[0];
vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';
var scriptElement = document.createElement('script');
scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
vizElement.parentNode.insertBefore(scriptElement, vizElement);
```
* The calories burned has a medium correlation with the distance travelled.

### 4.2.2 Calories by daily total step
<div class='tableauPlaceholder' id='viz1670626573158' style='position: relative'><noscript><a href='#'><img alt='Calories by daily total step ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;bb&#47;bb_calories_step&#47;Calories_step&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='bb_calories_step&#47;Calories_step' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;bb&#47;bb_calories_step&#47;Calories_step&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='language' value='en-GB' /></object></div>

```{js calories vs step, echo=FALSE}
var divElement = document.getElementById('viz1670626573158');
var vizElement = divElement.getElementsByTagName('object')[0];
vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';
var scriptElement = document.createElement('script');
scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
vizElement.parentNode.insertBefore(scriptElement, vizElement);
```
* Similar to the distance travelled, the calories burned also don't have a strong correlation with the number of steps.

### 4.2.3 Calories by hourly intensity
<div class='tableauPlaceholder' id='viz1670626939888' style='position: relative'><noscript><a href='#'><img alt='Calories by hourly intensity ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;bb&#47;bb_calories_intensiy&#47;Calories_intensiy&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='bb_calories_intensiy&#47;Calories_intensiy' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;bb&#47;bb_calories_intensiy&#47;Calories_intensiy&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='language' value='en-GB' /></object></div>

```{js calories vs intensity, echo=FALSE}
var divElement = document.getElementById('viz1670626939888');
var vizElement = divElement.getElementsByTagName('object')[0];
vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';
var scriptElement = document.createElement('script');
scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
vizElement.parentNode.insertBefore(scriptElement, vizElement);
```
* While for the intensity, it has a relatively strong correlation with the calories burned, with the R-squared value 77.5%.


### 4.2.4 Calories burned per minute by different Metabolic equivalent of task (MET) values
<div class='tableauPlaceholder' id='viz1670627329785' style='position: relative'><noscript><a href='#'><img alt='Calories burned per minute by different Metabolic equivalent of task (MET) values ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;bb&#47;bb_Calories_met&#47;Calories_met&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='bb_Calories_met&#47;Calories_met' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;bb&#47;bb_Calories_met&#47;Calories_met&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='language' value='en-GB' /></object></div>

```{js calories vs MET, echo=FALSE}
var divElement = document.getElementById('viz1670627329785');
var vizElement = divElement.getElementsByTagName('object')[0];
vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';
var scriptElement = document.createElement('script');
scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
vizElement.parentNode.insertBefore(scriptElement, vizElement);
```
* MET stands for Metabolic Equivalent of Task. According to [UK Chief Medical Officers' Physical Activity Guidelines](https://assets.publishing.service.gov.uk/government/uploads/system/uploads/attachment_data/file/832868/uk-chief-medical-officers-physical-activity-guidelines.pdf), it is the objective measure of the ratio of the rate at which a person expends energy, relative to the mass of that person, while performing some specific physical activity compared to the energy expended whilst sedentary.  In short, it is a unit to measure the energy consumed of an activity when compared to being at rest. 

* As suggested by [Harvard T.H. Chan School of Public Health](https://www.healthline.com/health/what-are-mets#examples), physical activities could be rated using METs to indicate their intensity:  
    * Sedentary: METs <= 1.5. Examples are sitting, reclining, or lying down.  
    * Light intensity: 1.5 < METs < 3. Examples are walking at a leisurely pace or standing in line at the store.  
    * Moderate intensity: 3 <= METs < 6. Examples are walking briskly, vacuuming, or raking leaves.  
    * Vigorous intensity: METs >= 6. Examples are walking very quickly, running, taking an aerobics class, or shovelling snow.  
* There is an even stronger correlation of calories burned with the METs of R-squared value 85.6%.
<br>

## 4.3 Heart rate
### 4.3.1 Heart rate of different users
* Heart rate of different users
```{}
SELECT
  AVG(max) AS avg_max,
  AVG(min) AS avg_min
FROM (
  SELECT
    MAX(Value) AS max,
    MIN(Value) AS min
  FROM
    `capstone-project-22.Bellabeat_data.revised_heartrate_seconds_merged`
  GROUP BY
    Id)
```

<div class='tableauPlaceholder' id='viz1670844806777' style='position: relative'><noscript><a href='#'><img alt='heart boxplot dash ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;bb&#47;bb_heart_boxplot_dash&#47;heartboxplotdash&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='bb_heart_boxplot_dash&#47;heartboxplotdash' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;bb&#47;bb_heart_boxplot_dash&#47;heartboxplotdash&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='language' value='en-GB' /><param name='filter' value='publish=yes' /></object></div>

```{js users heart rate d, echo=FALSE}
var divElement = document.getElementById('viz1670844806777');
var vizElement = divElement.getElementsByTagName('object')[0];
if ( divElement.offsetWidth > 800 ) { vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';} else if ( divElement.offsetWidth > 500 ) { vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';} else { vizElement.style.width='100%';vizElement.style.height='727px';}
var scriptElement = document.createElement('script');
scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
vizElement.parentNode.insertBefore(scriptElement, vizElement);
```
* According to [American Heart Association](https://www.heart.org/en/healthy-living/fitness/fitness-basics/target-heart-rates), for a normal person the resting heart rate is between 60 bpm and 100 bpm, but it can be affected by factors such as stress, anxiety, hormones, medication, and the activeness of a person. For example, an athlete can have a 40 bpm resting heart rate.
* And normally the maximum heart rate is about 220 minus age. The target heart rate zones of different age groups are shown in the following table:

<!--- <hr style="height:2px;border:none;color:#ddd;background-color:#ddd;margin-bottom:0;"> --->
<table class="table table-striped" border="2", style="margin-bottom:0px;text-align:left">
  <thead>
    <tr>
      <th scope="col" class="">Age</th>
      <th scope="col" class="">Target Heart Rate Zone 50-85%</th>
      <th scope="col" class="">Average Maximum Heart Rate, 100%</th>
    </tr>
  </thead>
  <tbody>
    <tr><th scope="row" class="">20 years</th> <td data-label="Target Heart Rate Zone 50-85%" class="">100-170 beats per minute (bpm)</td> <td data-label="Average Maximum Heart Rate, 100%" class="">200 bpm</td></tr>
    <tr><th scope="row" class="">30 years</th> <td data-label="Target Heart Rate Zone 50-85%" class="">95-162 bpm</td> <td data-label="Average Maximum Heart Rate, 100%" class="">190 bpm</td></tr>
    <tr><th scope="row" class="">35 years</th> <td data-label="Target Heart Rate Zone 50-85%" class="">93-157 bpm</td> <td data-label="Average Maximum Heart Rate, 100%" class="">185 bpm</td></tr>
    <tr><th scope="row" class="">40 years</th> <td data-label="Target Heart Rate Zone 50-85%" class="">90-153 bpm</td> <td data-label="Average Maximum Heart Rate, 100%" class="">180 bpm</td></tr>
    <tr><th scope="row" class="">45 years</th> <td data-label="Target Heart Rate Zone 50-85%" class="">88-149 bpm</td> <td data-label="Average Maximum Heart Rate, 100%" class="">175 bpm</td></tr>
    <tr><th scope="row" class="">50 years</th> <td data-label="Target Heart Rate Zone 50-85%" class="">85-145 bpm</td> <td data-label="Average Maximum Heart Rate, 100%" class="">170 bpm</td></tr>
    <tr><th scope="row" class="">55 years</th> <td data-label="Target Heart Rate Zone 50-85%" class="">83-140 bpm</td> <td data-label="Average Maximum Heart Rate, 100%" class="">165 bpm</td></tr>
    <tr><th scope="row" class="">60 years</th> <td data-label="Target Heart Rate Zone 50-85%" class="">80-136 bpm</td> <td data-label="Average Maximum Heart Rate, 100%" class="">160 bpm</td></tr>
    <tr><th scope="row" class="">65 years</th> <td data-label="Target Heart Rate Zone 50-85%" class="">78-132 bpm</td> <td data-label="Average Maximum Heart Rate, 100%" class="">155 bpm</td></tr>
    <tr><th scope="row" class="">70 years</th> <td data-label="Target Heart Rate Zone 50-85%" class="">75-128 bpm</td> <td data-label="Average Maximum Heart Rate, 100%" class="">150 bpm</td></tr>
  </tbody>
</table>

*Source: [American Heart Association](https://www.heart.org/en/healthy-living/fitness/fitness-basics/target-heart-rates)*

* As observed the heart rates of different users are ranging from 36 to 203 beats per minute (bpm).
* Due to the lack of user background information such as gender, age, occupation e.t.c. it could not be determined whether their heart rates fall at normal or danger zone.  

### 4.3.2 Average heart rates of steps per minute
```{}
SELECT
  t1.Id,
  t1.Steps AS step,
  AVG(t2.value) AS heartrate
FROM
  `capstone-project-22.Bellabeat_data.minuteActivity_merged` AS t1
LEFT JOIN
  `capstone-project-22.Bellabeat_data.revised_heartrate_seconds_merged` AS t2
ON
  t1.Id = t2.Id
  AND FORMAT_TIMESTAMP('%Y-%m-%d %H:%M', t1.ActivityMinute) = FORMAT_TIMESTAMP('%Y-%m-%d %H:%M', t2.time)
WHERE
  t1.Steps IS NOT NULL
GROUP BY
  1,
  2
HAVING
  AVG(t2.value) IS NOT NULL
ORDER BY
  2
```
<div class='tableauPlaceholder' id='viz1670834994839' style='position: relative'><noscript><a href='#'><img alt='Average heart rate vs steps in a minute ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;bb&#47;bb_heart_step&#47;heart_step&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='bb_heart_step&#47;heart_step' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;bb&#47;bb_heart_step&#47;heart_step&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='language' value='en-GB' /></object></div>

```{js heart rate vs steps, echo=FALSE}
var divElement = document.getElementById('viz1670834994839');
var vizElement = divElement.getElementsByTagName('object')[0];
vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';
var scriptElement = document.createElement('script');
scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
vizElement.parentNode.insertBefore(scriptElement, vizElement);
```
* As the number of steps per minute goes up, the heart rate rises as well.  

### 4.3.3 Average heart rates of steps per minute by different users
<div class='tableauPlaceholder' id='viz1670835366173' style='position: relative'><noscript><a href='#'><img alt='Average heart rates of different steps by different users ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;bb&#47;bb_heart_step_boxplot&#47;heart_step_boxplot&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='bb_heart_step_boxplot&#47;heart_step_boxplot' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;bb&#47;bb_heart_step_boxplot&#47;heart_step_boxplot&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='language' value='en-GB' /></object></div>

```{js heart rate vs steps by users, echo=FALSE}
var divElement = document.getElementById('viz1670835366173');
var vizElement = divElement.getElementsByTagName('object')[0];
vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';
var scriptElement = document.createElement('script');
scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
vizElement.parentNode.insertBefore(scriptElement, vizElement);
```
* The range of average heart rates for some users are relatively large, with the 5th user (counting from left) being the largest.
* As mentioned, factors such as user lifestyle, occupation, have to be taken into account to see if the heart rates are within normal level or not.  

### 4.3.4 Calories burned by average heart rate (per minute)
```{}
SELECT
  t1.Id,
  AVG(t1.value) AS heartrate,
  t2.Calories
FROM
  `capstone-project-22.Bellabeat_data.revised_heartrate_seconds_merged` AS t1
LEFT JOIN
  `capstone-project-22.Bellabeat_data.minuteActivity_merged` AS t2
ON
  t1.Id = t2.Id
  AND FORMAT_TIMESTAMP('%Y-%m-%d %H:%M', t1.Time) = FORMAT_TIMESTAMP('%Y-%m-%d %H:%M', t2.ActivityMinute)
WHERE
  t2.Calories IS NOT NULL
GROUP BY
  1,
  3
ORDER BY
  3
```

<div class='tableauPlaceholder' id='viz1670633818894' style='position: relative'><noscript><a href='#'><img alt='Calories burned by average heart rate (per minute) ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;bb&#47;bb_heart_calories&#47;heart_calories&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='bb_heart_calories&#47;heart_calories' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;bb&#47;bb_heart_calories&#47;heart_calories&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='language' value='en-GB' /></object></div>

```{js calories vs heart rate, echo=FALSE}
var divElement = document.getElementById('viz1670633818894');
var vizElement = divElement.getElementsByTagName('object')[0];
vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';
var scriptElement = document.createElement('script');
scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
vizElement.parentNode.insertBefore(scriptElement, vizElement);
```
* It is not surprising to see that if users want to burn more calories, they need to exercise to achieve a higher heart rate.
* From the chart, generally if the users need to burn 10 calories in a minute, on average they need to perform exercises which can keep the heart rate at around 130 for 1 minute.
<br>

## 4.4 Time dimension
### 4.4.1 Average active distance by day of week
<div class='tableauPlaceholder' id='viz1670845522262' style='position: relative'><noscript><a href='#'><img alt='active_distance_weekday_dash ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;bb&#47;bb_active_distance_weekday_dash&#47;active_distance_weekday_dash&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='bb_active_distance_weekday_dash&#47;active_distance_weekday_dash' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;bb&#47;bb_active_distance_weekday_dash&#47;active_distance_weekday_dash&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='language' value='en-GB' /><param name='filter' value='publish=yes' /></object></div>

```{js distance weekday d, echo=FALSE}
var divElement = document.getElementById('viz1670845522262');
var vizElement = divElement.getElementsByTagName('object')[0];
if ( divElement.offsetWidth > 800 ) { vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';} else if ( divElement.offsetWidth > 500 ) { vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';} else { vizElement.style.width='100%';vizElement.style.height='727px';}
var scriptElement = document.createElement('script');
scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
vizElement.parentNode.insertBefore(scriptElement, vizElement);
```
* There is not much difference between the average active distances across the week, ranging from around 5km to 5.8km.
* Saturday is the most active day, whereas Sunday is the day with the least activeness.
* But it is noted that the longest very active distances happen on Tuesday and Wednesday.  

### 4.4.2 Average active minutes by day of week
<div class='tableauPlaceholder' id='viz1670846119045' style='position: relative'><noscript><a href='#'><img alt='active_min_weekday_dash ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;bb&#47;bb_activemin_weekday_dash&#47;active_min_weekday_dash&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='bb_activemin_weekday_dash&#47;active_min_weekday_dash' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;bb&#47;bb_activemin_weekday_dash&#47;active_min_weekday_dash&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='language' value='en-GB' /><param name='filter' value='publish=yes' /></object></div>

```{js active min weekday d, echo=FALSE}
var divElement = document.getElementById('viz1670846119045');
var vizElement = divElement.getElementsByTagName('object')[0];
if ( divElement.offsetWidth > 800 ) { vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';} else if ( divElement.offsetWidth > 500 ) { vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';} else { vizElement.style.width='100%';vizElement.style.height='727px';}
var scriptElement = document.createElement('script');
scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
vizElement.parentNode.insertBefore(scriptElement, vizElement);
```
* Much the same as the average active distance, Saturday has got the longest length of active minute and Sunday the shortest.
* Unlike day of week of the longest very active distances, Monday and Tuesday got the highest very active minutes.
* The average total of all the days is 227.6 mins, corresponding to 3.8 hours.  

### 4.4.3 Average intensity by hour
```{}
SELECT
  FORMAT_TIMESTAMP('%I %p', ActivityHour) AS hour,
  AVG(TotalIntensity) as average_intensity
FROM
  `capstone-project-22.Bellabeat_data.hourlyActivity_merged`
GROUP BY
  hour
```
<div class='tableauPlaceholder' id='viz1670846937781' style='position: relative'><noscript><a href='#'><img alt='Average intensity by hour ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;bb&#47;bb_intensity_hour&#47;intensity_hour&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='bb_intensity_hour&#47;intensity_hour' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;bb&#47;bb_intensity_hour&#47;intensity_hour&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='language' value='en-GB' /></object></div>

```{js intensity hour, echo=FALSE}
var divElement = document.getElementById('viz1670846937781');
var vizElement = divElement.getElementsByTagName('object')[0];
vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';
var scriptElement = document.createElement('script');
scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
vizElement.parentNode.insertBefore(scriptElement, vizElement);
```
* When looking into the intensity of the users by different time in a day, there is an increasing trend starting from 4am, and arriving at peak level at 6pm to 7pm.  

## 4.5 Sleeping time
### 4.5.1 Average minute of asleep and time in bed by day
```{}
SELECT
  DATE(SleepDay) AS date,
  AVG(TotalMinutesAsleep) AS average_asleep_min,
  AVG(TotalTimeInBed) AS average_bed_min,
  AVG(TotalMinutesAsleep)/AVG(TotalTimeInBed)*100 AS asleep_bed_percentage
FROM
  `capstone-project-22.Bellabeat_data.revised_sleepDay_merged`
GROUP BY
  date
ORDER BY
  date
```

```{}
SELECT
  AVG(asleep_bed_percentage) as avg_asleep_bed_percentage
FROM (
  SELECT
    DATE(SleepDay) AS date,
    AVG(TotalMinutesAsleep) AS average_asleep_min,
    AVG(TotalTimeInBed) AS average_bed_min,
    AVG(TotalMinutesAsleep)/AVG(TotalTimeInBed)*100 AS asleep_bed_percentage
  FROM
    `capstone-project-22.Bellabeat_data.revised_sleepDay_merged`
  GROUP BY
    date
  ORDER BY
    date)
```
<div class='tableauPlaceholder' id='viz1670849485163' style='position: relative'><noscript><a href='#'><img alt='Average minute of asleep and time in bed by day ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;sl&#47;sleepday_dash&#47;sleepday_dash&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='sleepday_dash&#47;sleepday_dash' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;sl&#47;sleepday_dash&#47;sleepday_dash&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='language' value='en-GB' /></object></div>

```{js asleep bed by day, echo=FALSE}
var divElement = document.getElementById('viz1670849485163');
var vizElement = divElement.getElementsByTagName('object')[0];
if ( divElement.offsetWidth > 800 ) { vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';} else if ( divElement.offsetWidth > 500 ) { vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';} else { vizElement.style.width='100%';vizElement.style.height='1027px';}
var scriptElement = document.createElement('script');
scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
vizElement.parentNode.insertBefore(scriptElement, vizElement);
```
* The overall asleep time vs time in bed has a ratio of 91.6% and it is considered as adequate for being a [healthy sleeper](https://www.inc.com/julian-hayes-ii/the-8-hours-of-sleep-rule-is-a-myth-heres-what-you-should-do-instead.html) which requires 90% or above.
*While for the [recommended hours of sleep per day](https://www.cdc.gov/sleep/about_sleep/how_much_sleep.html) which is 7 hours for adult, on average there are only 16 days, or 51.6% of all days, meet the suggested time.  

### 4.5.2 Average minute of asleep and time in bed by day of week
```{}
SELECT
  FORMAT_DATE('%A', SleepDay) AS day_of_week,
  AVG(TotalMinutesAsleep) AS avg_asleep_min,
  AVG(TotalTimeInBed) AS avg_bed_min
FROM
  `capstone-project-22.Bellabeat_data.revised_sleepDay_merged`
GROUP BY
  1
ORDER BY
  (
    CASE
      WHEN day_of_week="Monday" THEN 1
      WHEN day_of_week="Tuesday" THEN 2
      WHEN day_of_week="Wednesday" THEN 3
      WHEN day_of_week="Thursday" THEN 4
      WHEN day_of_week="Friday" THEN 5
      WHEN day_of_week="Saturday" THEN 6
    ELSE
    7
  END
    )
```

<div class='tableauPlaceholder' id='viz1670855166799' style='position: relative'><noscript><a href='#'><img alt='sleep week dash ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;bb&#47;bb_sleep_week_dash&#47;sleepweekdash&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='bb_sleep_week_dash&#47;sleepweekdash' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;bb&#47;bb_sleep_week_dash&#47;sleepweekdash&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='language' value='en-GB' /><param name='filter' value='publish=yes' /></object></div>

```{js asleep bed by week, echo=FALSE}
var divElement = document.getElementById('viz1670855166799');
var vizElement = divElement.getElementsByTagName('object')[0];
if ( divElement.offsetWidth > 800 ) { vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';} else if ( divElement.offsetWidth > 500 ) { vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';} else { vizElement.style.width='100%';vizElement.style.height='727px';}
var scriptElement = document.createElement('script');
scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
vizElement.parentNode.insertBefore(scriptElement, vizElement);
```
* The asleep time is generally above 90% of the time in bed on the corresponding day of week.
* Users get the longest average time of sleep on Sundays.  

### 4.5.3 Total minute of sleep by hour
```{}
SELECT
  FORMAT_TIMESTAMP('%I %p', ActivityMinute) AS hour,
  COUNT(sleep_Id) AS total_sleep_min,
FROM
  `capstone-project-22.Bellabeat_data.minuteActivity_merged`
GROUP BY
  hour
```

<div class='tableauPlaceholder' id='viz1670855375307' style='position: relative'><noscript><a href='#'><img alt='Sleep_hour_dash ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;bb&#47;bb_sleep_hour_dash&#47;Sleep_hour_dash&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='bb_sleep_hour_dash&#47;Sleep_hour_dash' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;bb&#47;bb_sleep_hour_dash&#47;Sleep_hour_dash&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='language' value='en-GB' /><param name='filter' value='publish=yes' /></object></div>

```{js asleep bed by hour, echo=FALSE}
var divElement = document.getElementById('viz1670855375307');
var vizElement = divElement.getElementsByTagName('object')[0];
if ( divElement.offsetWidth > 800 ) { vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';} else if ( divElement.offsetWidth > 500 ) { vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';} else { vizElement.style.width='100%';vizElement.style.height='727px';}
var scriptElement = document.createElement('script');
scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
vizElement.parentNode.insertBefore(scriptElement, vizElement);
```
* Users stay awake mainly between 8 am and 10 pm, and are mostly sleeping between 11pm to 7am.
<br>
<br>

# 5. Key findings
* User engagement dropped by 36% throughout the whole period.  

* The calories burned has strong correlations with both the MET level and exercise intensity.  

* Some users have a relatively larger range of heart rate, from below 40 bpm to over 200 bpm.  

* As the number of steps per minute goes up, the average heart rate rises as well.  

* Heart rate and the calories burned have positive correlation.  

* In terms of day of week, Saturday is the most active day with an average distance of 5.8km while Sunday is the least with 5km. This is the same for the average active time by day of week, on average 3.8 hours per day of week.  

* During a day, the average intensities from 7am to 10pm are above the total average.  

* On average, users meet the requirement as healthy sleepers, whereas only a little more than half of the total days reach the recommended hours of sleep.  

* Generally users sleep between 11pm to 7am.  
<br>
<br>

# 6. Conclusion and recommendation
* Larger data sample size is necessary for more accurate analysis results. And more different types of data are also needed in order to have a broader understanding in the analysis result, this may include user background information such as gender, age, occupation, e.t.c.  

* More recently collected data can also increase the reliability to learn about the up-to-date situation.  

* Bellabeat can increase the user engagement over time by encouraging systems such as a scoring system for user to keep track of how healthy is their exercise habit, how close they are to their health goals, or some rewards/discounts on other Bellabeat products or services if they meet certain requirements. This could eventually increase customer loyalty.  

* Bellabeat could also try to make the products as comfortable as possible for wearing such as lightweight, safe for skin, and hypoallergenic. Features like waterproof and long-lasting battery are also important for outdoor usage.

* Daily or weekly tasks/challenges could be introduced to motivate users for more active movement in terms of intensity or length of exercise time.  

* Introduce notification which can be set by users or the system to remind them if they are not active for a certain period of time, do not meet a certain level of movement, heart rate is unusual/having irregular rhythm/in danger zone according to their age or an adjustable threshold bpm.  

* Bellabeat can also improve user sleep quality by sending notifications based on the user's historic wake-up time on the next day to remind user the time to sleep to meet the recommended sleep hours.

* New features such as blood Oxygen Level or fall detection could also be considered to provide users more extensive insights of their health condition.  

* Allow user to set the device to call for emergency services for specific conditions such as the heart rate exceed the range of values for certain amount of time.

* Avoid manually input by users as much as possible to prevent the irregular frequency of data collection and human error.

<Br>
<Br>
<center>**Thank you very much for your time!**</center>